---

#COMMON
deploy_user: changeit # System user ( e.g. my_user if `pwd` shows /home/my_user) # REQUIRED
docker_users:
  - changeit # same as deploy_user #REQUIRED
docker_restart: yes

#monitor
monitor_path: monitor

GRAFANA_AUTH_ANONYMOUS_ENABLED: false # set it to true if you want to access your dashboard without authentication
GRAFANA_AUTH_ANONYMOUS_ORG_ROLE: Admin

GRAFANA_GITHUB_CLIENT_ID: changeit # REQUIRED if GRAFANA_AUTH_ANONYMOUS_ENABLED is false
GRAFANA_GITHUB_CLIENT_SECRET: changeit # REQUIRED if GRAFANA_AUTH_ANONYMOUS_ENABLED is false
GRAFANA_GITHUB_ALLOWED_ORG: changeit # e.g. ["org1", "org2"] # REQUIRED if GRAFANA_AUTH_ANONYMOUS_ENABLED is false
GRAFANA_GITHUB_ROLE: "'Admin'" # refer here for additional infos => https://grafana.com/docs/grafana/latest/setup-grafana/configure-access/configure-authentication/github/

GRAFANA_SERVER_ROOT_URL: https://monitor.example.com # your dashboard url # REQUIRED
GRAFANA_ALERT_HOST: monitor.example.com # REQUIRED

GRAFANA_SMTP_PASSWORD: changeit
GRAFANA_SMTP_HOST: mail.example.com
GRAFANA_SMTP_USER: user@example.com
GRAFANA_SMTP_SENDER: user@example.com


#SUPABASE
supabase_path: supabase/docker
kong_conf_path: volumes/api

postgres_db_pwd: changeit # REQUIRED

#Refer to https://supabase.com/docs/guides/self-hosting/docker to generate jwt, anon and service role keys
sb_jwt_secret: changeit # REQUIRED
sb_anon_key: changeit # REQUIRED
sb_service_role_key: changeit #REQUIRED
secret_key_base: UpNVntn3cDxHJpq99YMc1T1AQgQpc8kfYTuRgBiYa15BLrx8etQoXz3gZv1/u2oq

site_url: https://app.example.com # Website url
api_external_url: https://supa.example.com # For supabase studio # REQUIRED

smtp_admin_email: user@example.com
smtp_host: mail.example.com
smtp_port: 587
smtp_user: user@example.com
smtp_password: changeit
smtp_sender_name: changeit

google_client_id: changeit
google_secret: changeit

azure_client_id: changeit
azure_secret: changeit

openai_api_key: changeit


#CADDY

#### Provider configurations 
SSO_PROVIDER: github # available: github, gitlab & discord

############### ! UPDATE BELOW VARIABLES BASED ON SSO_PROVIDER YOU CHOSE #################

##Gitlab #https://docs.authcrunch.com/docs/authenticate/oauth/backend-oauth2-0009-gitlab
gitlab_domain: gitlab.example.com
gitlab_oauth_client_id: changeit
gitlab_oauth_client_secret: changeit
gitlab_allow_list: "user1@example.com user2@example.com" #SSO allow list
gitlab_group_filters:
  - group1
  - ^a #all groups starting with a

##GitHub #https://docs.authcrunch.com/docs/authenticate/oauth/backend-oauth2-0007-github
github_oauth_client_id: changeit
github_oauth_client_secret: changeit
github_allow_list: "github.com/user1 github.com/user2"

##Discord #https://docs.authcrunch.com/docs/authenticate/oauth/backend-oauth2-0013-discord
discord_oauth_client_id: changeit
discord_oauth_client_secret: changeit
admin_role_id: changeit # your admin user ID
discord_guild_id: changeit # your Discord server ID

##########################################################################################

## Common vars between Gitlab, GitHub & Discord
base_auth_domain: auth.example.com # sub-domain will be used as an authentication endpoint
root_domain: example.com # for storing cookies

#### Caddyfile configuration
# set paths to [] if you donâ€™t want to handle any path outside of SSO protection 
# set secure: false to disable Gitlab SSO
projects:
  supabase:
    log_file: supabase-access
    project_subdomain: "supa.example.com"
    backend: "localhost:8000" # kong gateway
    paths:
      - /rest/v1/*
      - /auth/v1/*
      - /realtime/v1/*
      - /storage/v1/*
      - /functions/v1/*
      - /upload/*
    frontend: "localhost:3000" # Supabase studio dashboard
    secure: true

  monitor:
    log_file: monitor-access
    project_subdomain: "monitor.example.com"
    backend:
    paths: []
    frontend: "localhost:3001" # Grafana dashboard
    secure: true
