---

#COMMON
deploy_user: jlamere # System user ( e.g. my_user if `pwd` shows /home/my_user) # REQUIRED
docker_users:
  - jlamere # same as deploy_user #REQUIRED
docker_restart: yes

#monitor
monitor_path: monitor

GRAFANA_AUTH_ANONYMOUS_ENABLED: true # set it to true if you want to access your dashboard without authentication
GRAFANA_AUTH_ANONYMOUS_ORG_ROLE: Admin

GRAFANA_GITHUB_CLIENT_ID: changeit # REQUIRED if GRAFANA_AUTH_ANONYMOUS_ENABLED is false
GRAFANA_GITHUB_CLIENT_SECRET: changeit # REQUIRED if GRAFANA_AUTH_ANONYMOUS_ENABLED is false
GRAFANA_GITHUB_ALLOWED_ORG: changeit # e.g. ["org1", "org2"] # REQUIRED if GRAFANA_AUTH_ANONYMOUS_ENABLED is false
GRAFANA_GITHUB_ROLE: "'Admin'" # refer here for additional infos => https://grafana.com/docs/grafana/latest/setup-grafana/configure-access/configure-authentication/github/

GRAFANA_SERVER_ROOT_URL: https://monitor.supabase-dev.haywirenetworks.com # your dashboard url # REQUIRED
GRAFANA_ALERT_HOST: monitor.supabase-dev.haywirenetworks.com # REQUIRED

GRAFANA_SMTP_PASSWORD: VAULT
GRAFANA_SMTP_HOST: smtp.postmarkapp.com
GRAFANA_SMTP_USER: VAULT
GRAFANA_SMTP_SENDER: jlamere@gohaywire.com


#SUPABASE
supabase_path: supabase/docker
kong_conf_path: volumes/api

postgres_db_pwd: VAULT # REQUIRED

#Refer to https://supabase.com/docs/guides/self-hosting/docker to generate jwt, anon and service role keys
sb_jwt_secret: VAULT # REQUIRED
sb_anon_key: VAULT # REQUIRED
sb_service_role_key: VAULT #REQUIRED
secret_key_base: VAULT

site_url: https://app.supabase-dev.haywirenetworks.com # Website url
api_external_url: https://supa.supabase-dev.haywirenetworks.com # For supabase studio # REQUIRED

smtp_admin_email: jlamere@gohaywire.com
smtp_host: smtp.postmarkapp.com
smtp_port: 587
smtp_user: VAULT
smtp_password: VAULT
smtp_sender_name: Haywire

google_client_id: changeit
google_secret: changeit

azure_client_id: changeit
azure_secret: changeit

openai_api_key: changeit


#CADDY

# DNS-01 (Cloudflare)
caddy_dns_provider: cloudflare # set to "cloudflare" to enable DNS-01
cloudflare_api_token: VAULT # API token with Zone:DNS:Edit + Zone:Read

#### Provider configurations 
SSO_PROVIDER: github # available: github, gitlab & discord

############### ! UPDATE BELOW VARIABLES BASED ON SSO_PROVIDER YOU CHOSE #################

##Gitlab #https://docs.authcrunch.com/docs/authenticate/oauth/backend-oauth2-0009-gitlab
gitlab_domain: gitlab.example.com
gitlab_oauth_client_id: changeit
gitlab_oauth_client_secret: changeit
gitlab_allow_list: "user1@example.com user2@example.com" #SSO allow list
gitlab_group_filters:
  - group1
  - ^a #all groups starting with a

##GitHub #https://docs.authcrunch.com/docs/authenticate/oauth/backend-oauth2-0007-github
github_oauth_client_id: VAULT
github_oauth_client_secret: VAULT
github_allow_list: "github.com/jlamere-haywire github.com/mkmeyer-gohaywire"

##Discord #https://docs.authcrunch.com/docs/authenticate/oauth/backend-oauth2-0013-discord
discord_oauth_client_id: changeit
discord_oauth_client_secret: changeit
admin_role_id: changeit # your admin user ID
discord_guild_id: changeit # your Discord server ID

##########################################################################################

## Common vars between Gitlab, GitHub & Discord
base_auth_domain: auth.supabase-dev.haywirenetworks.com # sub-domain will be used as an authentication endpoint
root_domain: supabase-dev.haywirenetworks.com # for storing cookies

#### Caddyfile configuration
# set paths to [] if you donâ€™t want to handle any path outside of SSO protection 
# set secure: false to disable Gitlab SSO
projects:
  supabase:
    log_file: supabase-access
    project_subdomain: "app.supabase-dev.haywirenetworks.com"
    backend:
    paths: []
    frontend: "localhost:3000" # Supabase studio dashboard
    secure: true

  supabase_api:
    log_file: supabase-api-access
    project_subdomain: "supa.supabase-dev.haywirenetworks.com"
    backend:
    paths: []
    frontend: "localhost:8000" # kong gateway
    secure: false

  monitor:
    log_file: monitor-access
    project_subdomain: "monitor.supabase-dev.haywirenetworks.com"
    backend:
    paths: []
    frontend: "localhost:3001" # Grafana dashboard
    secure: true
